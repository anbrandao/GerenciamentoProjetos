2025-09-04 14:56:54.134 -03:00 [INF] User profile is available. Using 'C:\Users\andre.brandao\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-09-04 14:56:54.456 -03:00 [INF] Now listening on: https://localhost:7223
2025-09-04 14:56:54.461 -03:00 [INF] Now listening on: http://localhost:5210
2025-09-04 14:56:54.648 -03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-09-04 14:56:54.673 -03:00 [INF] Hosting environment: Development
2025-09-04 14:56:54.678 -03:00 [INF] Content root path: C:\Repos\SuperFlix\SuperFlix
2025-09-04 14:56:55.028 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7223/_framework/aspnetcore-browser-refresh.js - null null
2025-09-04 14:56:55.050 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7223/_vs/browserLink - null null
2025-09-04 14:56:55.224 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7223/_framework/aspnetcore-browser-refresh.js - 200 16517 application/javascript; charset=utf-8 221.2943ms
2025-09-04 14:56:55.292 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7223/_vs/browserLink - 200 null text/javascript; charset=UTF-8 274.8732ms
2025-09-04 14:56:55.340 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7223/swagger/v1/swagger.json - null null
2025-09-04 14:56:55.426 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7223/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 86.2813ms
2025-09-04 14:57:02.900 -03:00 [INF] Request starting HTTP/2 POST https://localhost:7223/Usuario/login - application/json 49
2025-09-04 14:57:02.948 -03:00 [INF] Request:
Protocol: HTTP/2
Method: POST
Scheme: https
PathBase: 
Path: /Usuario/login
Accept: */*
Host: localhost:7223
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36 Edg/139.0.0.0
Accept-Encoding: gzip, deflate, br, zstd
Accept-Language: pt-BR,pt;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6
Content-Type: application/json
Cookie: [Redacted]
Origin: [Redacted]
Referer: [Redacted]
Content-Length: 49
sec-ch-ua-platform: [Redacted]
sec-ch-ua: [Redacted]
sec-ch-ua-mobile: [Redacted]
sec-fetch-site: [Redacted]
sec-fetch-mode: [Redacted]
sec-fetch-dest: [Redacted]
priority: [Redacted]
2025-09-04 14:57:03.022 -03:00 [INF] Executing endpoint 'ControleProjetos.Usuarios.UsuarioController.Login (ControleProjetos)'
2025-09-04 14:57:03.071 -03:00 [INF] Route matched with {action = "Login", controller = "Usuario"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Http.IResult] Login(ControleProjetos.Data.Dtos.UsuarioDto.LoginUsuarioDto) on controller ControleProjetos.Usuarios.UsuarioController (ControleProjetos).
2025-09-04 14:57:07.624 -03:00 [INF] Executed DbCommand (98ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[DataNascimento], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[Role], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-09-04 14:57:07.868 -03:00 [INF] Setting HTTP status code 200.
2025-09-04 14:57:07.874 -03:00 [INF] Writing value of type 'UnauthorizedHttpResult' as Json.
2025-09-04 14:57:07.892 -03:00 [INF] Executed action ControleProjetos.Usuarios.UsuarioController.Login (ControleProjetos) in 4811.5674ms
2025-09-04 14:57:07.896 -03:00 [INF] Executed endpoint 'ControleProjetos.Usuarios.UsuarioController.Login (ControleProjetos)'
2025-09-04 14:57:07.899 -03:00 [INF] Response:
StatusCode: 200
Content-Type: application/json; charset=utf-8
Date: Thu, 04 Sep 2025 17:57:07 GMT
Server: Kestrel
2025-09-04 14:57:07.926 -03:00 [INF] Request finished HTTP/2 POST https://localhost:7223/Usuario/login - 200 null application/json; charset=utf-8 5025.7563ms
2025-09-04 15:10:58.736 -03:00 [INF] User profile is available. Using 'C:\Users\andre.brandao\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-09-04 15:10:59.117 -03:00 [INF] Now listening on: https://localhost:7223
2025-09-04 15:10:59.126 -03:00 [INF] Now listening on: http://localhost:5210
2025-09-04 15:10:59.379 -03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-09-04 15:10:59.409 -03:00 [INF] Hosting environment: Development
2025-09-04 15:10:59.413 -03:00 [INF] Content root path: C:\Repos\SuperFlix\SuperFlix
2025-09-04 15:10:59.589 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7223/swagger/index.html - null null
2025-09-04 15:11:00.234 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7223/swagger/index.html - 200 null text/html;charset=utf-8 647.3685ms
2025-09-04 15:11:00.303 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7223/_framework/aspnetcore-browser-refresh.js - null null
2025-09-04 15:11:00.322 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7223/_framework/aspnetcore-browser-refresh.js - 200 16517 application/javascript; charset=utf-8 18.2632ms
2025-09-04 15:11:00.566 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7223/_vs/browserLink - null null
2025-09-04 15:11:00.653 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7223/_vs/browserLink - 200 null text/javascript; charset=UTF-8 86.9358ms
2025-09-04 15:11:01.164 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7223/swagger/v1/swagger.json - null null
2025-09-04 15:11:01.194 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7223/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 30.3019ms
2025-09-04 15:11:06.587 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7223/swagger/index.html - null null
2025-09-04 15:11:06.595 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7223/swagger/index.html - 200 null text/html;charset=utf-8 7.9728ms
2025-09-04 15:11:06.618 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7223/_framework/aspnetcore-browser-refresh.js - null null
2025-09-04 15:11:06.620 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7223/_vs/browserLink - null null
2025-09-04 15:11:06.625 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7223/_framework/aspnetcore-browser-refresh.js - 200 16517 application/javascript; charset=utf-8 7.3223ms
2025-09-04 15:11:06.643 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7223/_vs/browserLink - 200 null text/javascript; charset=UTF-8 23.0823ms
2025-09-04 15:11:06.673 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7223/swagger/v1/swagger.json - null null
2025-09-04 15:11:06.705 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7223/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 31.6008ms
2025-09-04 15:11:14.859 -03:00 [INF] Request starting HTTP/2 POST https://localhost:7223/Usuario/cadastro - application/json 143
2025-09-04 15:11:14.987 -03:00 [INF] Executing endpoint 'ControleProjetos.Usuarios.UsuarioController.CadastraUsuario (ControleProjetos)'
2025-09-04 15:11:15.012 -03:00 [INF] Route matched with {action = "CadastraUsuario", controller = "Usuario"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Http.IResult] CadastraUsuario(ControleProjetos.Data.Dtos.UsuarioDto.CreateUsuarioDto) on controller ControleProjetos.Usuarios.UsuarioController (ControleProjetos).
2025-09-04 15:11:15.500 -03:00 [INF] Executed action ControleProjetos.Usuarios.UsuarioController.CadastraUsuario (ControleProjetos) in 480.9372ms
2025-09-04 15:11:15.505 -03:00 [INF] Executed endpoint 'ControleProjetos.Usuarios.UsuarioController.CadastraUsuario (ControleProjetos)'
2025-09-04 15:11:15.509 -03:00 [ERR] An unhandled exception has occurred while executing the request.
System.ApplicationException: Falha ao cadastrar usuario
   at ControleProjetos.Usuarios.UsuarioService.CadastraUsuario(CreateUsuarioDto createUsuarioDto) in C:\Repos\SuperFlix\SuperFlix\Usuarios\UsuarioService.cs:line 31
   at ControleProjetos.Usuarios.UsuarioController.CadastraUsuario(CreateUsuarioDto createUsuarioDto) in C:\Repos\SuperFlix\SuperFlix\Usuarios\UsuarioController.cs:line 22
   at lambda_method5(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-09-04 15:11:15.563 -03:00 [INF] Request finished HTTP/2 POST https://localhost:7223/Usuario/cadastro - 500 null text/plain; charset=utf-8 704.6435ms
2025-09-04 15:11:34.595 -03:00 [INF] Request starting HTTP/2 POST https://localhost:7223/Usuario/login - application/json 49
2025-09-04 15:11:34.616 -03:00 [INF] Executing endpoint 'ControleProjetos.Usuarios.UsuarioController.Login (ControleProjetos)'
2025-09-04 15:11:34.627 -03:00 [INF] Route matched with {action = "Login", controller = "Usuario"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Http.IResult] Login(ControleProjetos.Data.Dtos.UsuarioDto.LoginUsuarioDto) on controller ControleProjetos.Usuarios.UsuarioController (ControleProjetos).
2025-09-04 15:11:38.218 -03:00 [INF] Executed DbCommand (89ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[DataNascimento], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[Role], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-09-04 15:11:38.600 -03:00 [INF] Setting HTTP status code 200.
2025-09-04 15:11:38.604 -03:00 [INF] Writing value of type 'UnauthorizedHttpResult' as Json.
2025-09-04 15:11:38.613 -03:00 [INF] Executed action ControleProjetos.Usuarios.UsuarioController.Login (ControleProjetos) in 3978.5629ms
2025-09-04 15:11:38.616 -03:00 [INF] Executed endpoint 'ControleProjetos.Usuarios.UsuarioController.Login (ControleProjetos)'
2025-09-04 15:11:38.636 -03:00 [INF] Request finished HTTP/2 POST https://localhost:7223/Usuario/login - 200 null application/json; charset=utf-8 4041.7538ms
2025-09-04 15:12:39.606 -03:00 [INF] User profile is available. Using 'C:\Users\andre.brandao\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-09-04 15:12:39.887 -03:00 [INF] Now listening on: https://localhost:7223
2025-09-04 15:12:39.888 -03:00 [INF] Now listening on: http://localhost:5210
2025-09-04 15:12:39.939 -03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-09-04 15:12:39.942 -03:00 [INF] Hosting environment: Development
2025-09-04 15:12:39.945 -03:00 [INF] Content root path: C:\Repos\SuperFlix\SuperFlix
2025-09-04 15:12:40.409 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7223/swagger/index.html - null null
2025-09-04 15:12:40.522 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7223/swagger/index.html - 200 null text/html;charset=utf-8 114.1083ms
2025-09-04 15:12:40.593 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7223/_framework/aspnetcore-browser-refresh.js - null null
2025-09-04 15:12:40.593 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7223/_vs/browserLink - null null
2025-09-04 15:12:40.617 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7223/_framework/aspnetcore-browser-refresh.js - 200 16517 application/javascript; charset=utf-8 23.681ms
2025-09-04 15:12:40.636 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7223/_vs/browserLink - 200 null text/javascript; charset=UTF-8 43.1749ms
2025-09-04 15:12:41.001 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7223/swagger/v1/swagger.json - null null
2025-09-04 15:12:41.035 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7223/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 33.8412ms
2025-09-04 15:12:52.638 -03:00 [INF] Request starting HTTP/2 POST https://localhost:7223/Usuario/cadastro - application/json 143
2025-09-04 15:12:52.696 -03:00 [INF] Request:
Protocol: HTTP/2
Method: POST
Scheme: https
PathBase: 
Path: /Usuario/cadastro
Accept: */*
Host: localhost:7223
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36 Edg/139.0.0.0
Accept-Encoding: gzip, deflate, br, zstd
Accept-Language: pt-BR,pt;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6
Content-Type: application/json
Cookie: [Redacted]
Origin: [Redacted]
Referer: [Redacted]
Content-Length: 143
sec-ch-ua-platform: [Redacted]
sec-ch-ua: [Redacted]
sec-ch-ua-mobile: [Redacted]
sec-fetch-site: [Redacted]
sec-fetch-mode: [Redacted]
sec-fetch-dest: [Redacted]
priority: [Redacted]
2025-09-04 15:12:52.763 -03:00 [INF] Executing endpoint 'ControleProjetos.Usuarios.UsuarioController.CadastraUsuario (ControleProjetos)'
2025-09-04 15:12:52.837 -03:00 [INF] Route matched with {action = "CadastraUsuario", controller = "Usuario"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Http.IResult] CadastraUsuario(ControleProjetos.Data.Dtos.UsuarioDto.CreateUsuarioDto) on controller ControleProjetos.Usuarios.UsuarioController (ControleProjetos).
2025-09-04 15:12:53.585 -03:00 [INF] Executed action ControleProjetos.Usuarios.UsuarioController.CadastraUsuario (ControleProjetos) in 736.1902ms
2025-09-04 15:12:53.587 -03:00 [INF] Executed endpoint 'ControleProjetos.Usuarios.UsuarioController.CadastraUsuario (ControleProjetos)'
2025-09-04 15:12:53.589 -03:00 [INF] Response:
StatusCode: 200
2025-09-04 15:12:53.594 -03:00 [ERR] An unhandled exception has occurred while executing the request.
System.ApplicationException: Falha ao cadastrar usuario
   at ControleProjetos.Usuarios.UsuarioService.CadastraUsuario(CreateUsuarioDto createUsuarioDto) in C:\Repos\SuperFlix\SuperFlix\Usuarios\UsuarioService.cs:line 31
   at ControleProjetos.Usuarios.UsuarioController.CadastraUsuario(CreateUsuarioDto createUsuarioDto) in C:\Repos\SuperFlix\SuperFlix\Usuarios\UsuarioController.cs:line 22
   at lambda_method5(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.HttpLogging.HttpLoggingMiddleware.InvokeInternal(HttpContext context, HttpLoggingOptions options, HttpLoggingAttribute loggingAttribute, HttpLoggingFields loggingFields)
   at Microsoft.AspNetCore.HttpLogging.HttpLoggingMiddleware.InvokeInternal(HttpContext context, HttpLoggingOptions options, HttpLoggingAttribute loggingAttribute, HttpLoggingFields loggingFields)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-09-04 15:12:53.642 -03:00 [INF] Request finished HTTP/2 POST https://localhost:7223/Usuario/cadastro - 500 null text/plain; charset=utf-8 1003.5514ms
2025-09-04 15:14:11.644 -03:00 [INF] User profile is available. Using 'C:\Users\andre.brandao\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-09-04 15:14:12.489 -03:00 [INF] Now listening on: https://localhost:7223
2025-09-04 15:14:12.501 -03:00 [INF] Now listening on: http://localhost:5210
2025-09-04 15:14:12.627 -03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-09-04 15:14:12.632 -03:00 [INF] Hosting environment: Development
2025-09-04 15:14:12.635 -03:00 [INF] Content root path: C:\Repos\SuperFlix\SuperFlix
2025-09-04 15:14:13.044 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7223/swagger/index.html - null null
2025-09-04 15:14:13.155 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7223/swagger/index.html - 200 null text/html;charset=utf-8 112.598ms
2025-09-04 15:14:13.189 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7223/_vs/browserLink - null null
2025-09-04 15:14:13.189 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7223/_framework/aspnetcore-browser-refresh.js - null null
2025-09-04 15:14:13.205 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7223/_framework/aspnetcore-browser-refresh.js - 200 16517 application/javascript; charset=utf-8 15.7438ms
2025-09-04 15:14:13.222 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7223/_vs/browserLink - 200 null text/javascript; charset=UTF-8 33.0634ms
2025-09-04 15:14:13.295 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7223/swagger/v1/swagger.json - null null
2025-09-04 15:14:13.319 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7223/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 23.1623ms
2025-09-04 15:14:25.851 -03:00 [INF] Request starting HTTP/2 POST https://localhost:7223/Usuario/cadastro - application/json 143
2025-09-04 15:14:26.008 -03:00 [INF] Executing endpoint 'ControleProjetos.Usuarios.UsuarioController.CadastraUsuario (ControleProjetos)'
2025-09-04 15:14:26.109 -03:00 [INF] Route matched with {action = "CadastraUsuario", controller = "Usuario"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Http.IResult] CadastraUsuario(ControleProjetos.Data.Dtos.UsuarioDto.CreateUsuarioDto) on controller ControleProjetos.Usuarios.UsuarioController (ControleProjetos).
2025-09-04 15:14:26.656 -03:00 [INF] Executed action ControleProjetos.Usuarios.UsuarioController.CadastraUsuario (ControleProjetos) in 531.0758ms
2025-09-04 15:14:26.660 -03:00 [INF] Executed endpoint 'ControleProjetos.Usuarios.UsuarioController.CadastraUsuario (ControleProjetos)'
2025-09-04 15:14:26.668 -03:00 [ERR] An unhandled exception has occurred while executing the request.
System.ApplicationException: Falha ao cadastrar usuario
   at ControleProjetos.Usuarios.UsuarioService.CadastraUsuario(CreateUsuarioDto createUsuarioDto) in C:\Repos\SuperFlix\SuperFlix\Usuarios\UsuarioService.cs:line 31
   at ControleProjetos.Usuarios.UsuarioController.CadastraUsuario(CreateUsuarioDto createUsuarioDto) in C:\Repos\SuperFlix\SuperFlix\Usuarios\UsuarioController.cs:line 22
   at lambda_method5(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-09-04 15:14:26.734 -03:00 [INF] Request finished HTTP/2 POST https://localhost:7223/Usuario/cadastro - 500 null text/plain; charset=utf-8 883.5005ms
2025-09-04 19:41:06.058 -03:00 [INF] User profile is available. Using 'C:\Users\andre.brandao\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-09-04 19:41:06.274 -03:00 [INF] Now listening on: https://localhost:7223
2025-09-04 19:41:06.277 -03:00 [INF] Now listening on: http://localhost:5210
2025-09-04 19:41:06.317 -03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-09-04 19:41:06.320 -03:00 [INF] Hosting environment: Development
2025-09-04 19:41:06.322 -03:00 [INF] Content root path: C:\Repos\SuperFlix\SuperFlix
2025-09-04 19:41:06.722 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7223/_framework/aspnetcore-browser-refresh.js - null null
2025-09-04 19:41:06.738 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7223/_framework/aspnetcore-browser-refresh.js - 200 16517 application/javascript; charset=utf-8 17.4906ms
2025-09-04 19:41:06.740 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7223/_vs/browserLink - null null
2025-09-04 19:41:06.875 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7223/_vs/browserLink - 200 null text/javascript; charset=UTF-8 135.0672ms
2025-09-04 19:41:06.970 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7223/swagger/v1/swagger.json - null null
2025-09-04 19:41:07.022 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7223/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 51.7233ms
2025-09-04 19:41:17.236 -03:00 [INF] Request starting HTTP/2 POST https://localhost:7223/Usuario/cadastro - application/json 143
2025-09-04 19:41:17.258 -03:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: No service for type 'ControleProjetos.Data.Dtos.UsuarioDto.ExceptionMiddleware' has been registered.
   at Microsoft.Extensions.DependencyInjection.ServiceProviderServiceExtensions.GetRequiredService(IServiceProvider provider, Type serviceType)
   at Microsoft.AspNetCore.Http.MiddlewareFactory.Create(Type middlewareType)
   at Microsoft.AspNetCore.Builder.UseMiddlewareExtensions.InterfaceMiddlewareBinder.<>c__DisplayClass2_0.<<CreateMiddleware>b__0>d.MoveNext()
--- End of stack trace from previous location ---
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-09-04 19:41:17.283 -03:00 [INF] Request finished HTTP/2 POST https://localhost:7223/Usuario/cadastro - 500 null text/plain; charset=utf-8 46.7688ms
2025-09-04 19:42:57.558 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7223/swagger/index.html - null null
2025-09-04 19:42:57.623 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7223/swagger/index.html - 200 null text/html;charset=utf-8 64.6597ms
2025-09-04 19:42:57.676 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7223/_framework/aspnetcore-browser-refresh.js - null null
2025-09-04 19:42:57.676 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7223/_vs/browserLink - null null
2025-09-04 19:42:57.688 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7223/_framework/aspnetcore-browser-refresh.js - 200 16517 application/javascript; charset=utf-8 12.0172ms
2025-09-04 19:42:57.708 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7223/_vs/browserLink - 200 null text/javascript; charset=UTF-8 31.704ms
2025-09-04 19:42:58.092 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7223/swagger/v1/swagger.json - null null
2025-09-04 19:42:58.149 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7223/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 56.6434ms
2025-09-04 19:43:06.381 -03:00 [INF] Request starting HTTP/2 POST https://localhost:7223/Usuario/login - application/json 49
2025-09-04 19:43:06.397 -03:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: No service for type 'ControleProjetos.Data.Dtos.UsuarioDto.ExceptionMiddleware' has been registered.
   at Microsoft.Extensions.DependencyInjection.ServiceProviderServiceExtensions.GetRequiredService(IServiceProvider provider, Type serviceType)
   at Microsoft.AspNetCore.Http.MiddlewareFactory.Create(Type middlewareType)
   at Microsoft.AspNetCore.Builder.UseMiddlewareExtensions.InterfaceMiddlewareBinder.<>c__DisplayClass2_0.<<CreateMiddleware>b__0>d.MoveNext()
--- End of stack trace from previous location ---
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-09-04 19:43:06.409 -03:00 [INF] Request finished HTTP/2 POST https://localhost:7223/Usuario/login - 500 null text/plain; charset=utf-8 27.9136ms
2025-09-04 19:44:16.485 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7223/swagger/index.html - null null
2025-09-04 19:44:16.509 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7223/swagger/index.html - 200 null text/html;charset=utf-8 24.0002ms
2025-09-04 19:44:16.567 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7223/_vs/browserLink - null null
2025-09-04 19:44:16.571 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7223/_framework/aspnetcore-browser-refresh.js - null null
2025-09-04 19:44:16.587 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7223/_vs/browserLink - 200 null text/javascript; charset=UTF-8 19.9209ms
2025-09-04 19:44:16.593 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7223/_framework/aspnetcore-browser-refresh.js - 200 16517 application/javascript; charset=utf-8 21.4355ms
2025-09-04 19:44:16.782 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7223/swagger/v1/swagger.json - null null
2025-09-04 19:44:16.810 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7223/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 28.3439ms
2025-09-04 19:51:06.350 -03:00 [INF] User profile is available. Using 'C:\Users\andre.brandao\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-09-04 19:51:06.600 -03:00 [INF] Now listening on: https://localhost:7223
2025-09-04 19:51:06.601 -03:00 [INF] Now listening on: http://localhost:5210
2025-09-04 19:51:06.638 -03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-09-04 19:51:06.639 -03:00 [INF] Hosting environment: Development
2025-09-04 19:51:06.641 -03:00 [INF] Content root path: C:\Repos\SuperFlix\SuperFlix
2025-09-04 19:51:07.273 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7223/_framework/aspnetcore-browser-refresh.js - null null
2025-09-04 19:51:07.289 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7223/_framework/aspnetcore-browser-refresh.js - 200 16517 application/javascript; charset=utf-8 17.0449ms
2025-09-04 19:51:07.294 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7223/_vs/browserLink - null null
2025-09-04 19:51:07.369 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7223/_vs/browserLink - 200 null text/javascript; charset=UTF-8 74.7442ms
2025-09-04 19:51:07.393 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7223/swagger/v1/swagger.json - null null
2025-09-04 19:51:07.421 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7223/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 27.5238ms
2025-09-04 19:51:15.479 -03:00 [INF] Request starting HTTP/2 POST https://localhost:7223/Usuario/login - application/json 49
2025-09-04 19:51:15.504 -03:00 [INF] Request:
Protocol: HTTP/2
Method: POST
Scheme: https
PathBase: 
Path: /Usuario/login
Accept: */*
Host: localhost:7223
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36 Edg/139.0.0.0
Accept-Encoding: gzip, deflate, br, zstd
Accept-Language: pt-BR,pt;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6
Content-Type: application/json
Cookie: [Redacted]
Origin: [Redacted]
Referer: [Redacted]
Content-Length: 49
sec-ch-ua-platform: [Redacted]
sec-ch-ua: [Redacted]
sec-ch-ua-mobile: [Redacted]
sec-fetch-site: [Redacted]
sec-fetch-mode: [Redacted]
sec-fetch-dest: [Redacted]
priority: [Redacted]
2025-09-04 19:51:15.547 -03:00 [INF] Executing endpoint 'ControleProjetos.Usuarios.UsuarioController.Login (ControleProjetos)'
2025-09-04 19:51:15.586 -03:00 [INF] Route matched with {action = "Login", controller = "Usuario"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Http.IResult] Login(ControleProjetos.Data.Dtos.UsuarioDto.LoginUsuarioDto) on controller ControleProjetos.Usuarios.UsuarioController (ControleProjetos).
2025-09-04 19:51:18.899 -03:00 [INF] Executed DbCommand (51ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[DataNascimento], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[Role], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-09-04 19:51:19.115 -03:00 [INF] Executed action ControleProjetos.Usuarios.UsuarioController.Login (ControleProjetos) in 3518.9894ms
2025-09-04 19:51:19.123 -03:00 [INF] Executed endpoint 'ControleProjetos.Usuarios.UsuarioController.Login (ControleProjetos)'
2025-09-04 19:51:19.128 -03:00 [INF] Response:
StatusCode: 200
2025-09-04 19:51:19.131 -03:00 [ERR] Erro não tratado
System.ApplicationException: Falha ao autenticar usuario
   at ControleProjetos.Usuarios.UsuarioService.Login(LoginUsuarioDto loginUsuarioDto) in C:\Repos\SuperFlix\SuperFlix\Usuarios\UsuarioService.cs:line 39
   at ControleProjetos.Usuarios.UsuarioController.Login(LoginUsuarioDto loginUsuarioDto) in C:\Repos\SuperFlix\SuperFlix\Usuarios\UsuarioController.cs:line 31
   at lambda_method5(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.HttpLogging.HttpLoggingMiddleware.InvokeInternal(HttpContext context, HttpLoggingOptions options, HttpLoggingAttribute loggingAttribute, HttpLoggingFields loggingFields)
   at Microsoft.AspNetCore.HttpLogging.HttpLoggingMiddleware.InvokeInternal(HttpContext context, HttpLoggingOptions options, HttpLoggingAttribute loggingAttribute, HttpLoggingFields loggingFields)
   at ControleProjetos.Data.Dtos.UsuarioDto.ExceptionMiddleware.InvokeAsync(HttpContext context, RequestDelegate next) in C:\Repos\SuperFlix\SuperFlix\Usuarios\ExceptionMidlleware.cs:line 21
2025-09-04 19:51:19.202 -03:00 [INF] Request finished HTTP/2 POST https://localhost:7223/Usuario/login - 500 null application/json 3722.862ms
2025-09-04 19:53:32.780 -03:00 [INF] User profile is available. Using 'C:\Users\andre.brandao\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-09-04 19:53:32.885 -03:00 [INF] Now listening on: https://localhost:7223
2025-09-04 19:53:32.887 -03:00 [INF] Now listening on: http://localhost:5210
2025-09-04 19:53:32.921 -03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-09-04 19:53:32.922 -03:00 [INF] Hosting environment: Development
2025-09-04 19:53:32.923 -03:00 [INF] Content root path: C:\Repos\SuperFlix\SuperFlix
2025-09-04 19:53:33.169 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7223/swagger/index.html - null null
2025-09-04 19:53:33.270 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7223/swagger/index.html - 200 null text/html;charset=utf-8 101.2921ms
2025-09-04 19:53:33.309 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7223/_framework/aspnetcore-browser-refresh.js - null null
2025-09-04 19:53:33.309 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7223/_vs/browserLink - null null
2025-09-04 19:53:33.319 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7223/_framework/aspnetcore-browser-refresh.js - 200 16517 application/javascript; charset=utf-8 9.5393ms
2025-09-04 19:53:33.340 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7223/_vs/browserLink - 200 null text/javascript; charset=UTF-8 30.3165ms
2025-09-04 19:53:33.747 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7223/swagger/v1/swagger.json - null null
2025-09-04 19:53:33.785 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7223/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 37.5433ms
2025-09-04 19:54:58.528 -03:00 [INF] User profile is available. Using 'C:\Users\andre.brandao\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-09-04 19:54:58.632 -03:00 [INF] Now listening on: https://localhost:7223
2025-09-04 19:54:58.633 -03:00 [INF] Now listening on: http://localhost:5210
2025-09-04 19:54:58.676 -03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-09-04 19:54:58.679 -03:00 [INF] Hosting environment: Development
2025-09-04 19:54:58.681 -03:00 [INF] Content root path: C:\Repos\SuperFlix\SuperFlix
2025-09-04 19:54:58.903 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7223/swagger/index.html - null null
2025-09-04 19:54:58.993 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7223/swagger/index.html - 200 null text/html;charset=utf-8 90.471ms
2025-09-04 19:54:59.036 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7223/_vs/browserLink - null null
2025-09-04 19:54:59.036 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7223/_framework/aspnetcore-browser-refresh.js - null null
2025-09-04 19:54:59.047 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7223/_framework/aspnetcore-browser-refresh.js - 200 16517 application/javascript; charset=utf-8 10.9298ms
2025-09-04 19:54:59.057 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7223/_vs/browserLink - 200 null text/javascript; charset=UTF-8 20.9333ms
2025-09-04 19:54:59.153 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7223/swagger/v1/swagger.json - null null
2025-09-04 19:54:59.167 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7223/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 13.5117ms
2025-09-04 19:55:13.991 -03:00 [INF] Request starting HTTP/2 POST https://localhost:7223/Usuario/login - application/json 49
2025-09-04 19:55:14.047 -03:00 [INF] Executing endpoint 'ControleProjetos.Usuarios.UsuarioController.Login (ControleProjetos)'
2025-09-04 19:55:14.084 -03:00 [INF] Route matched with {action = "Login", controller = "Usuario"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Http.IResult] Login(ControleProjetos.Data.Dtos.UsuarioDto.LoginUsuarioDto) on controller ControleProjetos.Usuarios.UsuarioController (ControleProjetos).
2025-09-04 19:55:16.175 -03:00 [INF] Executed DbCommand (57ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[DataNascimento], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[Role], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-09-04 19:55:16.440 -03:00 [INF] Executed action ControleProjetos.Usuarios.UsuarioController.Login (ControleProjetos) in 2346.5041ms
2025-09-04 19:55:16.445 -03:00 [INF] Executed endpoint 'ControleProjetos.Usuarios.UsuarioController.Login (ControleProjetos)'
2025-09-04 19:55:16.448 -03:00 [ERR] Erro não tratado
System.ApplicationException: Usuário não autenticado!
   at ControleProjetos.Usuarios.UsuarioService.Login(LoginUsuarioDto loginUsuarioDto) in C:\Repos\SuperFlix\SuperFlix\Usuarios\UsuarioService.cs:line 39
   at ControleProjetos.Usuarios.UsuarioController.Login(LoginUsuarioDto loginUsuarioDto) in C:\Repos\SuperFlix\SuperFlix\Usuarios\UsuarioController.cs:line 31
   at lambda_method5(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at ControleProjetos.Data.Dtos.UsuarioDto.ExceptionMiddleware.InvokeAsync(HttpContext context, RequestDelegate next) in C:\Repos\SuperFlix\SuperFlix\Usuarios\ExceptionMidlleware.cs:line 21
2025-09-04 19:55:16.520 -03:00 [INF] Request finished HTTP/2 POST https://localhost:7223/Usuario/login - 500 null application/json 2528.57ms
2025-09-04 20:02:26.800 -03:00 [INF] User profile is available. Using 'C:\Users\andre.brandao\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-09-04 20:02:26.908 -03:00 [INF] Now listening on: https://localhost:7223
2025-09-04 20:02:26.910 -03:00 [INF] Now listening on: http://localhost:5210
2025-09-04 20:02:26.957 -03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-09-04 20:02:26.961 -03:00 [INF] Hosting environment: Development
2025-09-04 20:02:26.963 -03:00 [INF] Content root path: C:\Repos\SuperFlix\SuperFlix
2025-09-04 20:02:27.213 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7223/swagger/index.html - null null
2025-09-04 20:02:27.307 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7223/swagger/index.html - 200 null text/html;charset=utf-8 94.4243ms
2025-09-04 20:02:27.350 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7223/_vs/browserLink - null null
2025-09-04 20:02:27.350 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7223/_framework/aspnetcore-browser-refresh.js - null null
2025-09-04 20:02:27.362 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7223/_framework/aspnetcore-browser-refresh.js - 200 16517 application/javascript; charset=utf-8 11.7842ms
2025-09-04 20:02:27.368 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7223/_vs/browserLink - 200 null text/javascript; charset=UTF-8 18.0855ms
2025-09-04 20:02:27.704 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7223/swagger/v1/swagger.json - null null
2025-09-04 20:02:27.726 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7223/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 21.5112ms
2025-09-04 20:02:58.465 -03:00 [INF] Request starting HTTP/2 POST https://localhost:7223/Usuario/login - application/json 49
2025-09-04 20:02:58.513 -03:00 [INF] Executing endpoint 'ControleProjetos.Usuarios.UsuarioController.Login (ControleProjetos)'
2025-09-04 20:02:58.549 -03:00 [INF] Route matched with {action = "Login", controller = "Usuario"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Http.IResult] Login(ControleProjetos.Data.Dtos.UsuarioDto.LoginUsuarioDto) on controller ControleProjetos.Usuarios.UsuarioController (ControleProjetos).
2025-09-04 20:03:00.277 -03:00 [INF] Executed DbCommand (47ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[DataNascimento], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[Role], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-09-04 20:03:00.486 -03:00 [INF] Executed action ControleProjetos.Usuarios.UsuarioController.Login (ControleProjetos) in 1926.7068ms
2025-09-04 20:03:00.488 -03:00 [INF] Executed endpoint 'ControleProjetos.Usuarios.UsuarioController.Login (ControleProjetos)'
2025-09-04 20:03:00.490 -03:00 [ERR] Usuário não autenticado!
System.ApplicationException: Usuário não autenticado!
   at ControleProjetos.Usuarios.UsuarioService.Login(LoginUsuarioDto loginUsuarioDto) in C:\Repos\SuperFlix\SuperFlix\Usuarios\UsuarioService.cs:line 39
   at ControleProjetos.Usuarios.UsuarioController.Login(LoginUsuarioDto loginUsuarioDto) in C:\Repos\SuperFlix\SuperFlix\Usuarios\UsuarioController.cs:line 31
   at lambda_method5(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at ControleProjetos.Data.Dtos.UsuarioDto.ExceptionMiddleware.InvokeAsync(HttpContext context, RequestDelegate next) in C:\Repos\SuperFlix\SuperFlix\Usuarios\ExceptionMidlleware.cs:line 21
2025-09-04 20:03:00.542 -03:00 [INF] Request finished HTTP/2 POST https://localhost:7223/Usuario/login - 500 null application/json 2077.4401ms
2025-09-04 20:10:40.814 -03:00 [INF] User profile is available. Using 'C:\Users\andre.brandao\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-09-04 20:10:41.059 -03:00 [INF] Now listening on: https://localhost:7223
2025-09-04 20:10:41.060 -03:00 [INF] Now listening on: http://localhost:5210
2025-09-04 20:10:41.095 -03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-09-04 20:10:41.097 -03:00 [INF] Hosting environment: Development
2025-09-04 20:10:41.099 -03:00 [INF] Content root path: C:\Repos\SuperFlix\SuperFlix
2025-09-04 20:10:41.570 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7223/swagger/index.html - null null
2025-09-04 20:10:41.659 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7223/swagger/index.html - 200 null text/html;charset=utf-8 89.9974ms
2025-09-04 20:10:41.707 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7223/_vs/browserLink - null null
2025-09-04 20:10:41.707 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7223/_framework/aspnetcore-browser-refresh.js - null null
2025-09-04 20:10:41.734 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7223/_framework/aspnetcore-browser-refresh.js - 200 16517 application/javascript; charset=utf-8 26.6186ms
2025-09-04 20:10:41.747 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7223/_vs/browserLink - 200 null text/javascript; charset=UTF-8 39.2746ms
2025-09-04 20:10:41.861 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7223/swagger/v1/swagger.json - null null
2025-09-04 20:10:41.878 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7223/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 17.2522ms
2025-09-04 20:10:48.959 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7223/swagger/index.html - null null
2025-09-04 20:10:48.975 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7223/swagger/index.html - 200 null text/html;charset=utf-8 16.3946ms
2025-09-04 20:10:49.018 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7223/_framework/aspnetcore-browser-refresh.js - null null
2025-09-04 20:10:49.018 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7223/_vs/browserLink - null null
2025-09-04 20:10:49.027 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7223/_framework/aspnetcore-browser-refresh.js - 200 16517 application/javascript; charset=utf-8 9.1283ms
2025-09-04 20:10:49.051 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7223/_vs/browserLink - 200 null text/javascript; charset=UTF-8 33.4671ms
2025-09-04 20:10:49.083 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7223/swagger/v1/swagger.json - null null
2025-09-04 20:10:49.106 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7223/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 22.6364ms
2025-09-04 20:10:56.441 -03:00 [INF] Request starting HTTP/2 POST https://localhost:7223/Usuario/login - application/json 49
2025-09-04 20:10:56.496 -03:00 [INF] Executing endpoint 'ControleProjetos.Usuarios.UsuarioController.Login (ControleProjetos)'
2025-09-04 20:10:56.523 -03:00 [INF] Route matched with {action = "Login", controller = "Usuario"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Http.IResult] Login(ControleProjetos.Data.Dtos.UsuarioDto.LoginUsuarioDto) on controller ControleProjetos.Usuarios.UsuarioController (ControleProjetos).
2025-09-04 20:10:59.610 -03:00 [INF] Executed DbCommand (47ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[DataNascimento], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[Role], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-09-04 20:10:59.825 -03:00 [INF] Executed action ControleProjetos.Usuarios.UsuarioController.Login (ControleProjetos) in 3291.769ms
2025-09-04 20:10:59.829 -03:00 [INF] Executed endpoint 'ControleProjetos.Usuarios.UsuarioController.Login (ControleProjetos)'
2025-09-04 20:10:59.837 -03:00 [ERR] Usuário não autenticado!
System.ApplicationException: Usuário não autenticado!
   at ControleProjetos.Usuarios.UsuarioService.Login(LoginUsuarioDto loginUsuarioDto) in C:\Repos\SuperFlix\SuperFlix\Usuarios\UsuarioService.cs:line 39
   at ControleProjetos.Usuarios.UsuarioController.Login(LoginUsuarioDto loginUsuarioDto) in C:\Repos\SuperFlix\SuperFlix\Usuarios\UsuarioController.cs:line 31
   at lambda_method5(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at ControleProjetos.Data.Dtos.UsuarioDto.ExceptionMiddleware.InvokeAsync(HttpContext context, RequestDelegate next) in C:\Repos\SuperFlix\SuperFlix\Usuarios\ExceptionMidlleware.cs:line 21
2025-09-04 20:10:59.907 -03:00 [INF] Request finished HTTP/2 POST https://localhost:7223/Usuario/login - 500 null application/json 3465.9158ms
2025-09-04 20:11:43.720 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7223/swagger/index.html - null null
2025-09-04 20:11:43.728 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7223/swagger/index.html - 200 null text/html;charset=utf-8 7.697ms
2025-09-04 20:11:43.795 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7223/_vs/browserLink - null null
2025-09-04 20:11:43.796 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7223/_framework/aspnetcore-browser-refresh.js - null null
2025-09-04 20:11:43.816 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7223/_vs/browserLink - 200 null text/javascript; charset=UTF-8 20.5026ms
2025-09-04 20:11:43.817 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7223/_framework/aspnetcore-browser-refresh.js - 200 16517 application/javascript; charset=utf-8 21.5447ms
2025-09-04 20:11:43.922 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7223/swagger/v1/swagger.json - null null
2025-09-04 20:11:43.956 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7223/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 34.0464ms
2025-09-04 20:11:54.940 -03:00 [INF] Request starting HTTP/2 POST https://localhost:7223/Usuario/login - application/json 49
2025-09-04 20:11:54.948 -03:00 [INF] Executing endpoint 'ControleProjetos.Usuarios.UsuarioController.Login (ControleProjetos)'
2025-09-04 20:11:54.959 -03:00 [INF] Route matched with {action = "Login", controller = "Usuario"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Http.IResult] Login(ControleProjetos.Data.Dtos.UsuarioDto.LoginUsuarioDto) on controller ControleProjetos.Usuarios.UsuarioController (ControleProjetos).
2025-09-04 20:11:55.063 -03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[DataNascimento], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[Role], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-09-04 20:11:55.188 -03:00 [INF] Executed action ControleProjetos.Usuarios.UsuarioController.Login (ControleProjetos) in 222.4675ms
2025-09-04 20:11:55.190 -03:00 [INF] Executed endpoint 'ControleProjetos.Usuarios.UsuarioController.Login (ControleProjetos)'
2025-09-04 20:11:55.191 -03:00 [ERR] Usuário não autenticado!
System.ApplicationException: Usuário não autenticado!
   at ControleProjetos.Usuarios.UsuarioService.Login(LoginUsuarioDto loginUsuarioDto)
   at ControleProjetos.Usuarios.UsuarioController.Login(LoginUsuarioDto loginUsuarioDto)
   at lambda_method147(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at ControleProjetos.Data.Dtos.UsuarioDto.ExceptionMiddleware.InvokeAsync(HttpContext context, RequestDelegate next)
2025-09-04 20:11:55.197 -03:00 [INF] Request finished HTTP/2 POST https://localhost:7223/Usuario/login - 500 null application/json 256.7474ms
2025-09-04 20:18:31.990 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7223/swagger/index.html - null null
2025-09-04 20:18:32.004 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7223/swagger/index.html - 200 null text/html;charset=utf-8 13.9475ms
2025-09-04 20:18:32.059 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7223/_vs/browserLink - null null
2025-09-04 20:18:32.059 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7223/_framework/aspnetcore-browser-refresh.js - null null
2025-09-04 20:18:32.078 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7223/_vs/browserLink - 200 null text/javascript; charset=UTF-8 18.4506ms
2025-09-04 20:18:32.080 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7223/_framework/aspnetcore-browser-refresh.js - 200 16517 application/javascript; charset=utf-8 21.0308ms
2025-09-04 20:18:32.403 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7223/swagger/v1/swagger.json - null null
2025-09-04 20:18:32.418 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7223/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 14.7614ms
2025-09-04 20:18:58.861 -03:00 [INF] User profile is available. Using 'C:\Users\andre.brandao\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-09-04 20:18:58.982 -03:00 [INF] Now listening on: https://localhost:7223
2025-09-04 20:18:58.985 -03:00 [INF] Now listening on: http://localhost:5210
2025-09-04 20:18:59.021 -03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-09-04 20:18:59.022 -03:00 [INF] Hosting environment: Development
2025-09-04 20:18:59.026 -03:00 [INF] Content root path: C:\Repos\SuperFlix\SuperFlix
2025-09-04 20:18:59.232 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7223/swagger/index.html - null null
2025-09-04 20:18:59.319 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7223/swagger/index.html - 200 null text/html;charset=utf-8 87.6745ms
2025-09-04 20:18:59.368 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7223/_framework/aspnetcore-browser-refresh.js - null null
2025-09-04 20:18:59.368 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7223/_vs/browserLink - null null
2025-09-04 20:18:59.390 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7223/_framework/aspnetcore-browser-refresh.js - 200 16517 application/javascript; charset=utf-8 21.7258ms
2025-09-04 20:18:59.425 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7223/_vs/browserLink - 200 null text/javascript; charset=UTF-8 57.5571ms
2025-09-04 20:18:59.521 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7223/swagger/v1/swagger.json - null null
2025-09-04 20:18:59.553 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7223/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 31.3307ms
2025-09-04 20:19:12.684 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7223/swagger/index.html - null null
2025-09-04 20:19:12.702 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7223/swagger/index.html - 200 null text/html;charset=utf-8 18.0815ms
2025-09-04 20:19:12.739 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7223/_vs/browserLink - null null
2025-09-04 20:19:12.739 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7223/_framework/aspnetcore-browser-refresh.js - null null
2025-09-04 20:19:12.759 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7223/_framework/aspnetcore-browser-refresh.js - 200 16517 application/javascript; charset=utf-8 19.1121ms
2025-09-04 20:19:12.767 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7223/_vs/browserLink - 200 null text/javascript; charset=UTF-8 27.7356ms
2025-09-04 20:19:12.793 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7223/swagger/v1/swagger.json - null null
2025-09-04 20:19:12.805 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7223/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 12.0994ms
2025-09-04 20:19:19.018 -03:00 [INF] Request starting HTTP/2 POST https://localhost:7223/Usuario/login - application/json 49
2025-09-04 20:19:19.037 -03:00 [INF] Executing endpoint 'ControleProjetos.Usuarios.UsuarioController.Login (ControleProjetos)'
2025-09-04 20:19:19.051 -03:00 [INF] Route matched with {action = "Login", controller = "Usuario"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Http.IResult] Login(ControleProjetos.Data.Dtos.UsuarioDto.LoginUsuarioDto) on controller ControleProjetos.Usuarios.UsuarioController (ControleProjetos).
2025-09-04 20:19:19.890 -03:00 [INF] Executed DbCommand (29ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[DataNascimento], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[Role], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-09-04 20:19:20.022 -03:00 [INF] Executed action ControleProjetos.Usuarios.UsuarioController.Login (ControleProjetos) in 964.4936ms
2025-09-04 20:19:20.027 -03:00 [INF] Executed endpoint 'ControleProjetos.Usuarios.UsuarioController.Login (ControleProjetos)'
2025-09-04 20:19:20.030 -03:00 [ERR] Usuário não autenticado!
System.ApplicationException: Usuário não autenticado!
   at ControleProjetos.Usuarios.UsuarioService.Login(LoginUsuarioDto loginUsuarioDto) in C:\Repos\SuperFlix\SuperFlix\Usuarios\UsuarioService.cs:line 39
   at ControleProjetos.Usuarios.UsuarioController.Login(LoginUsuarioDto loginUsuarioDto) in C:\Repos\SuperFlix\SuperFlix\Usuarios\UsuarioController.cs:line 31
   at lambda_method5(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at ControleProjetos.Data.Dtos.UsuarioDto.ExceptionMiddleware.InvokeAsync(HttpContext context, RequestDelegate next) in C:\Repos\SuperFlix\SuperFlix\Usuarios\ExceptionMidlleware.cs:line 21
2025-09-04 20:19:20.089 -03:00 [INF] Request finished HTTP/2 POST https://localhost:7223/Usuario/login - 500 null application/json 1071.2626ms
2025-09-04 20:19:33.769 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7223/swagger/index.html - null null
2025-09-04 20:19:33.778 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7223/swagger/index.html - 200 null text/html;charset=utf-8 9.0131ms
2025-09-04 20:19:33.802 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7223/_framework/aspnetcore-browser-refresh.js - null null
2025-09-04 20:19:33.802 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7223/_vs/browserLink - null null
2025-09-04 20:19:33.809 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7223/_framework/aspnetcore-browser-refresh.js - 200 16517 application/javascript; charset=utf-8 7.3109ms
2025-09-04 20:19:33.819 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7223/_vs/browserLink - 200 null text/javascript; charset=UTF-8 16.9497ms
2025-09-04 20:19:33.914 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7223/swagger/v1/swagger.json - null null
2025-09-04 20:19:33.951 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7223/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 36.9816ms
2025-09-04 20:19:42.962 -03:00 [INF] Request starting HTTP/2 POST https://localhost:7223/Usuario/login - application/json 49
2025-09-04 20:19:42.971 -03:00 [INF] Executing endpoint 'ControleProjetos.Usuarios.UsuarioController.Login (ControleProjetos)'
2025-09-04 20:19:42.982 -03:00 [INF] Route matched with {action = "Login", controller = "Usuario"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Http.IResult] Login(ControleProjetos.Data.Dtos.UsuarioDto.LoginUsuarioDto) on controller ControleProjetos.Usuarios.UsuarioController (ControleProjetos).
2025-09-04 20:19:43.059 -03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[DataNascimento], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[Role], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-09-04 20:19:43.168 -03:00 [INF] Executed action ControleProjetos.Usuarios.UsuarioController.Login (ControleProjetos) in 179.3871ms
2025-09-04 20:19:43.174 -03:00 [INF] Executed endpoint 'ControleProjetos.Usuarios.UsuarioController.Login (ControleProjetos)'
2025-09-04 20:19:43.177 -03:00 [ERR] Usuário não autenticado!
System.ApplicationException: Usuário não autenticado!
   at ControleProjetos.Usuarios.UsuarioService.Login(LoginUsuarioDto loginUsuarioDto)
   at ControleProjetos.Usuarios.UsuarioController.Login(LoginUsuarioDto loginUsuarioDto)
   at lambda_method147(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at ControleProjetos.Data.Dtos.UsuarioDto.ExceptionMiddleware.InvokeAsync(HttpContext context, RequestDelegate next)
2025-09-04 20:19:43.196 -03:00 [INF] Request finished HTTP/2 POST https://localhost:7223/Usuario/login - 500 null application/json 234.0352ms
2025-09-04 20:20:37.564 -03:00 [INF] Request starting HTTP/2 POST https://localhost:7223/Usuario/cadastro - application/json 143
2025-09-04 20:20:37.574 -03:00 [INF] Executing endpoint 'ControleProjetos.Usuarios.UsuarioController.CadastraUsuario (ControleProjetos)'
2025-09-04 20:20:37.583 -03:00 [INF] Route matched with {action = "CadastraUsuario", controller = "Usuario"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Http.IResult] CadastraUsuario(ControleProjetos.Data.Dtos.UsuarioDto.CreateUsuarioDto) on controller ControleProjetos.Usuarios.UsuarioController (ControleProjetos).
2025-09-04 20:20:37.645 -03:00 [INF] Executed action ControleProjetos.Usuarios.UsuarioController.CadastraUsuario (ControleProjetos) in 56.7567ms
2025-09-04 20:20:37.648 -03:00 [INF] Executed endpoint 'ControleProjetos.Usuarios.UsuarioController.CadastraUsuario (ControleProjetos)'
2025-09-04 20:20:37.651 -03:00 [ERR] Falha ao cadastrar usuario
System.ApplicationException: Falha ao cadastrar usuario
   at ControleProjetos.Usuarios.UsuarioService.CadastraUsuario(CreateUsuarioDto createUsuarioDto)
   at ControleProjetos.Usuarios.UsuarioController.CadastraUsuario(CreateUsuarioDto createUsuarioDto)
   at lambda_method155(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at ControleProjetos.Data.Dtos.UsuarioDto.ExceptionMiddleware.InvokeAsync(HttpContext context, RequestDelegate next)
2025-09-04 20:20:37.659 -03:00 [INF] Request finished HTTP/2 POST https://localhost:7223/Usuario/cadastro - 500 null application/json 95.0142ms
2025-09-04 20:22:47.160 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7223/swagger/index.html - null null
2025-09-04 20:22:47.174 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7223/swagger/index.html - 200 null text/html;charset=utf-8 13.7982ms
2025-09-04 20:22:47.276 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7223/_framework/aspnetcore-browser-refresh.js - null null
2025-09-04 20:22:47.276 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7223/_vs/browserLink - null null
2025-09-04 20:22:47.295 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7223/_framework/aspnetcore-browser-refresh.js - 200 16517 application/javascript; charset=utf-8 18.9587ms
2025-09-04 20:22:47.321 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7223/_vs/browserLink - 200 null text/javascript; charset=UTF-8 44.8526ms
2025-09-04 20:22:47.494 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7223/swagger/v1/swagger.json - null null
2025-09-04 20:22:47.527 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7223/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 32.2212ms
2025-09-04 20:31:46.519 -03:00 [INF] User profile is available. Using 'C:\Users\andre.brandao\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-09-04 20:31:46.627 -03:00 [INF] Now listening on: https://localhost:7223
2025-09-04 20:31:46.629 -03:00 [INF] Now listening on: http://localhost:5210
2025-09-04 20:31:46.664 -03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-09-04 20:31:46.665 -03:00 [INF] Hosting environment: Development
2025-09-04 20:31:46.666 -03:00 [INF] Content root path: C:\Repos\SuperFlix\SuperFlix
2025-09-04 20:31:47.039 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7223/swagger/index.html - null null
2025-09-04 20:31:47.165 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7223/swagger/index.html - 200 null text/html;charset=utf-8 126.4968ms
2025-09-04 20:31:47.215 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7223/_vs/browserLink - null null
2025-09-04 20:31:47.215 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7223/_framework/aspnetcore-browser-refresh.js - null null
2025-09-04 20:31:47.238 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7223/_framework/aspnetcore-browser-refresh.js - 200 16517 application/javascript; charset=utf-8 23.5424ms
2025-09-04 20:31:47.247 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7223/_vs/browserLink - 200 null text/javascript; charset=UTF-8 32.1862ms
2025-09-04 20:31:47.628 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7223/swagger/v1/swagger.json - null null
2025-09-04 20:31:47.646 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7223/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 17.1221ms
2025-09-04 20:31:53.253 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7223/swagger/index.html - null null
2025-09-04 20:31:53.269 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7223/swagger/index.html - 200 null text/html;charset=utf-8 16.3455ms
2025-09-04 20:31:53.303 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7223/_framework/aspnetcore-browser-refresh.js - null null
2025-09-04 20:31:53.304 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7223/_vs/browserLink - null null
2025-09-04 20:31:53.318 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7223/_framework/aspnetcore-browser-refresh.js - 200 16517 application/javascript; charset=utf-8 14.9489ms
2025-09-04 20:31:53.347 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7223/_vs/browserLink - 200 null text/javascript; charset=UTF-8 43.7727ms
2025-09-04 20:31:53.381 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7223/swagger/v1/swagger.json - null null
2025-09-04 20:31:53.409 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7223/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 27.9653ms
2025-09-04 20:32:00.108 -03:00 [INF] Request starting HTTP/2 POST https://localhost:7223/Usuario/login - application/json 49
2025-09-04 20:32:00.168 -03:00 [INF] Executing endpoint 'ControleProjetos.Usuarios.UsuarioController.Login (ControleProjetos)'
2025-09-04 20:32:00.207 -03:00 [INF] Route matched with {action = "Login", controller = "Usuario"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Http.IResult] Login(ControleProjetos.Data.Dtos.UsuarioDto.LoginUsuarioDto) on controller ControleProjetos.Usuarios.UsuarioController (ControleProjetos).
2025-09-04 20:32:01.908 -03:00 [INF] Executed DbCommand (50ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[DataNascimento], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[Role], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-09-04 20:32:02.099 -03:00 [INF] Executed action ControleProjetos.Usuarios.UsuarioController.Login (ControleProjetos) in 1882.62ms
2025-09-04 20:32:02.102 -03:00 [INF] Executed endpoint 'ControleProjetos.Usuarios.UsuarioController.Login (ControleProjetos)'
2025-09-04 20:32:02.107 -03:00 [ERR] Erro não tratado
System.ApplicationException: Usuário não autenticado!
   at ControleProjetos.Usuarios.UsuarioService.Login(LoginUsuarioDto loginUsuarioDto) in C:\Repos\SuperFlix\SuperFlix\Usuarios\UsuarioService.cs:line 39
   at ControleProjetos.Usuarios.UsuarioController.Login(LoginUsuarioDto loginUsuarioDto) in C:\Repos\SuperFlix\SuperFlix\Usuarios\UsuarioController.cs:line 31
   at lambda_method5(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at ControleProjetos.Data.Dtos.UsuarioDto.ExceptionMiddleware.InvokeAsync(HttpContext context, RequestDelegate next) in C:\Repos\SuperFlix\SuperFlix\Usuarios\ExceptionMidlleware.cs:line 21
2025-09-04 20:32:02.181 -03:00 [INF] Request finished HTTP/2 POST https://localhost:7223/Usuario/login - 500 null application/json 2073.6086ms
2025-09-04 20:44:38.363 -03:00 [INF] User profile is available. Using 'C:\Users\andre.brandao\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-09-04 20:44:38.607 -03:00 [INF] Now listening on: https://localhost:7223
2025-09-04 20:44:38.609 -03:00 [INF] Now listening on: http://localhost:5210
2025-09-04 20:44:38.674 -03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-09-04 20:44:38.677 -03:00 [INF] Hosting environment: Development
2025-09-04 20:44:38.681 -03:00 [INF] Content root path: C:\Repos\SuperFlix\SuperFlix
2025-09-04 20:44:38.782 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7223/_framework/aspnetcore-browser-refresh.js - null null
2025-09-04 20:44:38.797 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7223/_framework/aspnetcore-browser-refresh.js - 200 16517 application/javascript; charset=utf-8 16.3131ms
2025-09-04 20:44:38.801 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7223/_vs/browserLink - null null
2025-09-04 20:44:38.844 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7223/_vs/browserLink - 200 null text/javascript; charset=UTF-8 42.8933ms
2025-09-04 20:44:38.869 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7223/swagger/v1/swagger.json - null null
2025-09-04 20:44:38.898 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7223/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 29.0158ms
2025-09-04 20:44:46.217 -03:00 [INF] Request starting HTTP/2 POST https://localhost:7223/Usuario/login - application/json 49
2025-09-04 20:44:46.277 -03:00 [INF] Executing endpoint 'ControleProjetos.Usuarios.UsuarioController.Login (ControleProjetos)'
2025-09-04 20:44:46.313 -03:00 [INF] Route matched with {action = "Login", controller = "Usuario"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Http.IResult] Login(ControleProjetos.Data.Dtos.UsuarioDto.LoginUsuarioDto) on controller ControleProjetos.Usuarios.UsuarioController (ControleProjetos).
2025-09-04 20:44:50.033 -03:00 [INF] Executed DbCommand (68ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[DataNascimento], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[Role], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-09-04 20:44:50.269 -03:00 [INF] Executed action ControleProjetos.Usuarios.UsuarioController.Login (ControleProjetos) in 3943.1884ms
2025-09-04 20:44:50.274 -03:00 [INF] Executed endpoint 'ControleProjetos.Usuarios.UsuarioController.Login (ControleProjetos)'
2025-09-04 20:44:50.277 -03:00 [ERR] Erro não tratado
System.ApplicationException: Usuário não autenticado!
   at ControleProjetos.Usuarios.UsuarioService.Login(LoginUsuarioDto loginUsuarioDto) in C:\Repos\SuperFlix\SuperFlix\Usuarios\UsuarioService.cs:line 39
   at ControleProjetos.Usuarios.UsuarioController.Login(LoginUsuarioDto loginUsuarioDto) in C:\Repos\SuperFlix\SuperFlix\Usuarios\UsuarioController.cs:line 31
   at lambda_method5(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at ControleProjetos.Data.Dtos.UsuarioDto.ExceptionMiddleware.InvokeAsync(HttpContext context, RequestDelegate next) in C:\Repos\SuperFlix\SuperFlix\Usuarios\ExceptionMidlleware.cs:line 20
2025-09-04 20:44:50.334 -03:00 [INF] Request finished HTTP/2 POST https://localhost:7223/Usuario/login - 500 0 application/json 4117.292ms
2025-09-04 20:48:43.556 -03:00 [INF] User profile is available. Using 'C:\Users\andre.brandao\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-09-04 20:48:43.664 -03:00 [INF] Now listening on: https://localhost:7223
2025-09-04 20:48:43.667 -03:00 [INF] Now listening on: http://localhost:5210
2025-09-04 20:48:43.723 -03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-09-04 20:48:43.726 -03:00 [INF] Hosting environment: Development
2025-09-04 20:48:43.727 -03:00 [INF] Content root path: C:\Repos\SuperFlix\SuperFlix
2025-09-04 20:48:44.228 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7223/_framework/aspnetcore-browser-refresh.js - null null
2025-09-04 20:48:44.249 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7223/_framework/aspnetcore-browser-refresh.js - 200 16517 application/javascript; charset=utf-8 22.5338ms
2025-09-04 20:48:44.253 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7223/_vs/browserLink - null null
2025-09-04 20:48:44.330 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7223/_vs/browserLink - 200 null text/javascript; charset=UTF-8 76.391ms
2025-09-04 20:48:44.355 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7223/swagger/v1/swagger.json - null null
2025-09-04 20:48:44.383 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7223/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 28.587ms
2025-09-04 20:48:51.213 -03:00 [INF] Request starting HTTP/2 POST https://localhost:7223/Usuario/login - application/json 49
2025-09-04 20:48:51.233 -03:00 [INF] Executing endpoint 'ControleProjetos.Usuarios.UsuarioController.Login (ControleProjetos)'
2025-09-04 20:48:51.246 -03:00 [INF] Route matched with {action = "Login", controller = "Usuario"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Http.IResult] Login(ControleProjetos.Data.Dtos.UsuarioDto.LoginUsuarioDto) on controller ControleProjetos.Usuarios.UsuarioController (ControleProjetos).
2025-09-04 20:48:52.048 -03:00 [INF] Executed DbCommand (21ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[DataNascimento], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[Role], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-09-04 20:48:52.173 -03:00 [INF] Executed action ControleProjetos.Usuarios.UsuarioController.Login (ControleProjetos) in 921.2081ms
2025-09-04 20:48:52.178 -03:00 [INF] Executed endpoint 'ControleProjetos.Usuarios.UsuarioController.Login (ControleProjetos)'
2025-09-04 20:48:52.183 -03:00 [ERR] Erro não tratado
System.ApplicationException: Usuário não autenticado!
   at ControleProjetos.Usuarios.UsuarioService.Login(LoginUsuarioDto loginUsuarioDto) in C:\Repos\SuperFlix\SuperFlix\Usuarios\UsuarioService.cs:line 39
   at ControleProjetos.Usuarios.UsuarioController.Login(LoginUsuarioDto loginUsuarioDto) in C:\Repos\SuperFlix\SuperFlix\Usuarios\UsuarioController.cs:line 31
   at lambda_method5(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at ControleProjetos.Data.Dtos.UsuarioDto.ExceptionMiddleware.InvokeAsync(HttpContext context, RequestDelegate next) in C:\Repos\SuperFlix\SuperFlix\Usuarios\ExceptionMidlleware.cs:line 21
2025-09-04 20:48:52.257 -03:00 [INF] Request finished HTTP/2 POST https://localhost:7223/Usuario/login - 500 null application/json 1044.3635ms
2025-09-04 20:49:07.431 -03:00 [INF] User profile is available. Using 'C:\Users\andre.brandao\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-09-04 20:49:07.532 -03:00 [INF] Now listening on: https://localhost:7223
2025-09-04 20:49:07.535 -03:00 [INF] Now listening on: http://localhost:5210
2025-09-04 20:49:07.593 -03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-09-04 20:49:07.596 -03:00 [INF] Hosting environment: Development
2025-09-04 20:49:07.598 -03:00 [INF] Content root path: C:\Repos\SuperFlix\SuperFlix
2025-09-04 20:49:07.960 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7223/swagger/index.html - null null
2025-09-04 20:49:08.073 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7223/swagger/index.html - 200 null text/html;charset=utf-8 114.4339ms
2025-09-04 20:49:08.105 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7223/_framework/aspnetcore-browser-refresh.js - null null
2025-09-04 20:49:08.105 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7223/_vs/browserLink - null null
2025-09-04 20:49:08.116 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7223/_framework/aspnetcore-browser-refresh.js - 200 16517 application/javascript; charset=utf-8 11.0571ms
2025-09-04 20:49:08.134 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7223/_vs/browserLink - 200 null text/javascript; charset=UTF-8 29.4621ms
2025-09-04 20:49:08.295 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7223/swagger/v1/swagger.json - null null
2025-09-04 20:49:08.345 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7223/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 49.4907ms
2025-09-04 20:49:17.804 -03:00 [INF] Request starting HTTP/2 POST https://localhost:7223/Usuario/login - application/json 49
2025-09-04 20:49:17.851 -03:00 [INF] Executing endpoint 'ControleProjetos.Usuarios.UsuarioController.Login (ControleProjetos)'
2025-09-04 20:49:17.889 -03:00 [INF] Route matched with {action = "Login", controller = "Usuario"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Http.IResult] Login(ControleProjetos.Data.Dtos.UsuarioDto.LoginUsuarioDto) on controller ControleProjetos.Usuarios.UsuarioController (ControleProjetos).
2025-09-04 20:49:19.349 -03:00 [INF] Executed DbCommand (39ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[DataNascimento], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[Role], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-09-04 20:49:19.549 -03:00 [INF] Executed action ControleProjetos.Usuarios.UsuarioController.Login (ControleProjetos) in 1650.6392ms
2025-09-04 20:49:19.551 -03:00 [INF] Executed endpoint 'ControleProjetos.Usuarios.UsuarioController.Login (ControleProjetos)'
2025-09-04 20:49:19.552 -03:00 [ERR] Erro não tratado
System.ApplicationException: Usuário não autenticado!
   at ControleProjetos.Usuarios.UsuarioService.Login(LoginUsuarioDto loginUsuarioDto) in C:\Repos\SuperFlix\SuperFlix\Usuarios\UsuarioService.cs:line 39
   at ControleProjetos.Usuarios.UsuarioController.Login(LoginUsuarioDto loginUsuarioDto) in C:\Repos\SuperFlix\SuperFlix\Usuarios\UsuarioController.cs:line 31
   at lambda_method5(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at ControleProjetos.Data.Dtos.UsuarioDto.ExceptionMiddleware.InvokeAsync(HttpContext context, RequestDelegate next) in C:\Repos\SuperFlix\SuperFlix\Usuarios\ExceptionMidlleware.cs:line 20
2025-09-04 20:49:19.613 -03:00 [INF] Request finished HTTP/2 POST https://localhost:7223/Usuario/login - 500 null application/json 1809.6788ms
